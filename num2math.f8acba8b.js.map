{"mappings":"ACIA,SAAS,gBAAgB,CAAC,mBAAoB,WAE5C,AADoB,SAAS,cAAc,CAAC,gBAChC,gBAAgB,CAAC,QAuB7B,WACE,IAAM,EAAM,SAAS,aAAa,CAAC,OACnC,GAAI,CAAC,EAAK,YACR,QAAQ,KAAK,CAAC,4BAIhB,IAAM,EAAS,SAAS,cAAc,CAAC,SAAS,KAAK,CAE/C,EAAI,AAAsC,EAAtC,SAAS,EAAI,YAAY,CAAC,UAC9B,EAAI,AAAuC,EAAvC,SAAS,EAAI,YAAY,CAAC,WAE9B,EAAY,EAAI,SAAS,CAAC,CAAA,GAChC,EAAU,YAAY,CAAC,QAAS,CAAA,EAAG,EAAE,EAAE,CAAC,EACxC,EAAU,YAAY,CAAC,SAAU,CAAA,EAAG,EAAE,EAAE,CAAC,EAEzC,IAAM,EAAO,IAAI,gBAAgB,iBAAiB,CAAC,GAE7C,EAAS,SAAS,aAAa,CAAC,UACtC,MAAM,EAAQ,EAAM,CAClB,eAAgB,WACd,EAAO,MAAM,CAAC,SAAU,CAAI,MArChB,EAsCD,CAAC,iCAAiC,EAAE,EAAO,IAAI,CAAC,CArC/D,GAAI,OAAO,SAAS,CAAC,gBAAgB,CACnC,OAAO,SAAS,CAAC,UAAU,CAoCoC,EApC7B,OAC7B,CACL,IAAM,EAAO,OAAO,QAAQ,CAAC,aAAa,CAAC,IAC3C,CAAA,EAAK,IAAI,CAAG,OAAO,GAAG,CAAC,eAAe,CAiCyB,GAhC/D,EAAK,QAAQ,CAAG,EAChB,EAAK,KAAK,GAEV,OAAO,GAAG,CAAC,eAAe,CAAC,EAAK,IAAI,CACtC,CA6BI,EACF,CACF,EACF,EACF","sources":["<anon>","src/download-png.js"],"sourcesContent":["var $bd3942b36b548f4f$exports = {};\n/**\n * PNG download functionality for SVG equations\n */ document.addEventListener('DOMContentLoaded', function() {\n    const downloadBtn = document.getElementById('download-img');\n    downloadBtn.addEventListener('click', downloadPNG);\n    /**\n   * Initiate download of blob\n   * @param {string} filename - Name of the file to download\n   * @param {Blob} blob - Blob data to download\n   */ function download(filename, blob) {\n        if (window.navigator.msSaveOrOpenBlob) window.navigator.msSaveBlob(blob, filename);\n        else {\n            const elem = window.document.createElement('a');\n            elem.href = window.URL.createObjectURL(blob);\n            elem.download = filename;\n            elem.click();\n            // Clean up the URL object\n            window.URL.revokeObjectURL(elem.href);\n        }\n    }\n    /**\n   * Download the rendered equation as PNG\n   */ function downloadPNG() {\n        const svg = document.querySelector('svg');\n        if (!svg) {\n            console.error('No SVG found to download');\n            return;\n        }\n        const number = document.getElementById('input').value;\n        const w = parseInt(svg.getAttribute('width')) * 3;\n        const h = parseInt(svg.getAttribute('height')) * 3;\n        const clonedSvg = svg.cloneNode(true);\n        clonedSvg.setAttribute('width', `${w}ex`);\n        clonedSvg.setAttribute('height', `${h}ex`);\n        const data = new XMLSerializer().serializeToString(clonedSvg);\n        const canvas = document.createElement('canvas');\n        canvg(canvas, data, {\n            renderCallback: function() {\n                canvas.toBlob(function(blob) {\n                    download(`complicated-equation-that-equals-${number}.png`, blob);\n                });\n            }\n        });\n    }\n});\n\n\n//# sourceMappingURL=num2math.f8acba8b.js.map\n","/**\n * PNG download functionality for SVG equations\n */\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const downloadBtn = document.getElementById('download-img');\n  downloadBtn.addEventListener('click', downloadPNG);\n\n  /**\n   * Initiate download of blob\n   * @param {string} filename - Name of the file to download\n   * @param {Blob} blob - Blob data to download\n   */\n  function download(filename, blob) {\n    if (window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveBlob(blob, filename);\n    } else {\n      const elem = window.document.createElement('a');\n      elem.href = window.URL.createObjectURL(blob);\n      elem.download = filename;\n      elem.click();\n      // Clean up the URL object\n      window.URL.revokeObjectURL(elem.href);\n    }\n  }\n\n  /**\n   * Download the rendered equation as PNG\n   */\n  function downloadPNG() {\n    const svg = document.querySelector('svg');\n    if (!svg) {\n      console.error('No SVG found to download');\n      return;\n    }\n\n    const number = document.getElementById('input').value;\n\n    const w = parseInt(svg.getAttribute('width')) * 3;\n    const h = parseInt(svg.getAttribute('height')) * 3;\n\n    const clonedSvg = svg.cloneNode(true);\n    clonedSvg.setAttribute('width', `${w}ex`);\n    clonedSvg.setAttribute('height', `${h}ex`);\n\n    const data = new XMLSerializer().serializeToString(clonedSvg);\n\n    const canvas = document.createElement('canvas');\n    canvg(canvas, data, {\n      renderCallback: function () {\n        canvas.toBlob(function (blob) {\n          download(`complicated-equation-that-equals-${number}.png`, blob);\n        });\n      },\n    });\n  }\n});\n\n"],"names":["document","addEventListener","downloadBtn","getElementById","svg","querySelector","console","error","number","value","w","parseInt","getAttribute","h","clonedSvg","cloneNode","setAttribute","data","XMLSerializer","serializeToString","canvas","createElement","canvg","renderCallback","toBlob","blob","filename","window","navigator","msSaveOrOpenBlob","msSaveBlob","elem","href","URL","createObjectURL","download","click","revokeObjectURL"],"version":3,"file":"num2math.f8acba8b.js.map"}