{"mappings":"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","sources":["<anon>","src/script.js","src/services/equationService.js","src/generators/latexGenerators.js","src/utils/mathHelpers.js","src/utils/constants.js","src/services/decompositionService.js","src/utils/urlSharing.js"],"sourcesContent":["/**\n * Main application script - handles UI interactions and MathJax rendering\n */ /**\n * Main equation generation service\n * Coordinates generator functions to create complex mathematical expressions\n */ /**\n * LaTeX expression generators for various mathematical concepts\n */ /**\n * Mathematical utility functions\n */ /**\n * Check if a number is odd\n * @param {number} n - The number to check\n * @returns {boolean} True if odd, false otherwise\n */ function $1dbc6a46e06e42e9$export$d36793d8f5c37d4d(n) {\n    return n % 2 !== 0;\n}\nfunction $1dbc6a46e06e42e9$export$18e26528b2f5558d(n) {\n    return Number.isInteger(Math.sqrt(n));\n}\nfunction $1dbc6a46e06e42e9$export$8676dd5fabd5ee34(n) {\n    if (n <= 1) return false;\n    if (n % 2 === 0 && n > 2) return false;\n    const s = Math.sqrt(n);\n    for(let i = 3; i <= s; i += 2){\n        if (n % i === 0) return false;\n    }\n    return true;\n}\nfunction $1dbc6a46e06e42e9$export$b1e4fcbe386851e2(n) {\n    return [\n        ...Array(n + 1).keys()\n    ].filter((i)=>n % i === 0);\n}\nfunction $1dbc6a46e06e42e9$export$72ec13a031cbb00(n) {\n    const factorialMap = {\n        2: 2,\n        6: 3,\n        24: 4,\n        120: 5,\n        720: 6\n    };\n    return factorialMap[n] || false;\n}\nfunction $1dbc6a46e06e42e9$export$3c5f89dae98e900b(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\nfunction $1dbc6a46e06e42e9$export$94951fac5549ef77(arr) {\n    return arr[Math.floor(Math.random() * arr.length)];\n}\n\n\n/**\n * Application constants\n */ const $315dbc24fdcb29cb$export$835c3c836997ddb7 = {\n    MIN: 0,\n    MAX: 1000\n};\nconst $315dbc24fdcb29cb$export$139062143e06098c = 5;\nconst $315dbc24fdcb29cb$export$b4b8427d5e70889b = 10;\nconst $315dbc24fdcb29cb$export$e4a566eeb613cc47 = 30;\nconst $315dbc24fdcb29cb$export$e7301bb713e9013b = 70;\nconst $315dbc24fdcb29cb$export$32b910926cdc0d75 = 10;\nconst $315dbc24fdcb29cb$export$cf3c1cc3171a5e4e = 100;\nconst $315dbc24fdcb29cb$export$6c4c91602b188824 = [\n    '-',\n    '+'\n];\n\n\nfunction $32d147077145fdbe$export$329ce89a99f0e343(n, useGammaFunction) {\n    if (Math.random() < 0.5 && useGammaFunction) return `{\\\\Gamma (${n + 1})}`;\n    return `{\\\\prod_{k=1}^{${n}} k}`;\n}\nfunction $32d147077145fdbe$export$b79f25742e3e8973(n, useGammaFunction) {\n    const fac = (0, $1dbc6a46e06e42e9$export$72ec13a031cbb00)(n);\n    if (fac && Math.random() < 0.5) return $32d147077145fdbe$export$329ce89a99f0e343(fac, useGammaFunction);\n    const r = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(1, 10);\n    if (Math.random() < 0.5) return `{\\\\lim_{x \\\\to ${n - r}} {{x^2 - ${r ** 2}} \\\\over {x - ${r}}}}`;\n    return `{\\\\lim_{x \\\\to ${n + r}} {{x^2 - ${r ** 2}} \\\\over {x + ${r}}}}`;\n}\nfunction $32d147077145fdbe$export$1923b1715a1d3b35(n) {\n    if (n === 0) return `{\\\\lim_{x \\\\to \\\\infty}{ \\\\ln(x) \\\\over {x} }}`;\n    if (n === 1) return `{\\\\lim_{x \\\\to 1}  { {\\\\ln(x)} \\\\over {x - 1} }}`;\n    return `{\\\\lim_{x \\\\to 0}{ {-\\\\ln(1 + ${n}(e^{-x} - 1))} \\\\over {x} }}`;\n}\nfunction $32d147077145fdbe$export$63b8956c35915643(n) {\n    if (n === 0) return `{\\\\lim_{x \\\\to \\\\infty}{xe^{-x}}}`;\n    if (n === 1) return `{\\\\lim_{x \\\\to 0}{ {e^x - 1} \\\\over {x} }}`;\n    return `{\\\\lim_{x \\\\to 0}{ {e^{${n}x} - 1} \\\\over {x} }}`;\n}\nfunction $32d147077145fdbe$export$55706094e203377f(n, useGammaFunction) {\n    const fac = (0, $1dbc6a46e06e42e9$export$72ec13a031cbb00)(n);\n    if (fac && Math.random() < 0.5) return $32d147077145fdbe$export$329ce89a99f0e343(fac, useGammaFunction);\n    if (n === 0) {\n        const r = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(0, 19);\n        return `{\\\\lim_{x \\\\to \\\\infty}{${r}x^{-1}}}`;\n    }\n    if (n === 1) return `{\\\\lim_{x \\\\to \\\\infty}{x^{1/x}}}`;\n    const m = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(1, 5);\n    const highestPower = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(2, 4);\n    const numeratorLength = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(1, highestPower - 1);\n    const denominatorLength = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(1, highestPower - 1);\n    let numerator = `${m * n}x^{${highestPower}} `;\n    let denominator = `${m}x^{${highestPower}} `;\n    for(let i = numeratorLength; i > 0; i--){\n        const coef = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(2, 11);\n        const power = i < 2 ? '' : `^{${i}}`;\n        numerator += `${(0, $315dbc24fdcb29cb$export$6c4c91602b188824)[Math.floor(Math.random() * 2)]} ${coef}x${power} `;\n    }\n    for(let i = denominatorLength; i > 0; i--){\n        const coef = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(2, 11);\n        const power = i < 2 ? '' : `^{${i}}`;\n        denominator += `${(0, $315dbc24fdcb29cb$export$6c4c91602b188824)[Math.floor(Math.random() * 2)]} ${coef}x${power} `;\n    }\n    return `{\\\\lim_{x \\\\to \\\\infty}{{ ${numerator} } \\\\over {{ ${denominator} }}}}`;\n}\nfunction $32d147077145fdbe$export$4f7fcae0ef12d1a7(n, useGammaFunction) {\n    const fac = (0, $1dbc6a46e06e42e9$export$72ec13a031cbb00)(n);\n    if (fac && Math.random() < 0.5) return $32d147077145fdbe$export$329ce89a99f0e343(fac, useGammaFunction);\n    if (n !== 0) return `{-${n}e^{\\\\pi i}}`;\n    return `{(e^{\\\\pi i} + 1)}`;\n}\nfunction $32d147077145fdbe$export$ee3ee67983452ed6(n, useGammaFunction) {\n    const fac = (0, $1dbc6a46e06e42e9$export$72ec13a031cbb00)(n);\n    if (fac && Math.random() < 0.5) return $32d147077145fdbe$export$329ce89a99f0e343(fac, useGammaFunction);\n    if (n === 0) {\n        const r = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(3, 12);\n        return `{\\\\sum\\\\limits_{k=0}^{${r - 1}} {\\\\sin \\\\left({ {2 \\\\pi k} \\\\over {${r}} } \\\\right)}}`;\n    }\n    if (n === 1) return `{\\\\lim_{\\\\epsilon \\\\to 0}{ \\\\epsilon \\\\zeta(1 + \\\\epsilon) }}`;\n    return `{\\\\sum\\\\limits_{k=0}^\\\\infty {\\\\left({${n - 1} \\\\over {${n}}}\\\\right)^{k}}}`;\n}\nfunction $32d147077145fdbe$export$9a51c259a21d4029(n, randOption) {\n    if (n > 0) {\n        const randomValue = Math.random();\n        if (randomValue < 0.25) return `\\\\left({${randOption(n)} \\\\over {(\\\\cos^2x + \\\\sin^2x)}}\\\\right)`;\n        if (randomValue < 0.5) return `\\\\left({${randOption(n)} \\\\times (\\\\cos^2x + \\\\sin^2x)}\\\\right)`;\n        return `\\\\left({${randOption(n + 1)} - (\\\\cos^2x + \\\\sin^2x)}\\\\right)`;\n    }\n    return `\\\\left({${randOption(n + 1)} - (\\\\cos^2x + \\\\sin^2x)}\\\\right)`;\n}\n\n\n/**\n * Number decomposition strategies for generating complex expressions\n */ \n\n/**\n * Decompose a number using exponential representation\n * @param {number} n - Target number\n * @param {Function} randomOption1 - First random generator\n * @param {Function} randomOption2 - Second random generator\n * @returns {string} LaTeX string\n */ function $4a118e3e819b7e0c$var$decompose2(n, randomOption1, randomOption2) {\n    const randNum = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(6, 8);\n    const logValue = Math.log(n) / Math.log(randNum);\n    const floorLog = Math.floor(logValue);\n    const ceilLog = Math.ceil(logValue);\n    const exp1 = randNum ** floorLog;\n    const exp2 = randNum ** ceilLog;\n    const diff1 = Math.abs(n - exp1);\n    const diff2 = Math.abs(n - exp2);\n    if (diff1 < diff2) {\n        const power = floorLog < 2 ? '' : `^{${floorLog}}`;\n        return `{ \\\\left({${randomOption1(randNum)}}\\\\right)${power} + {${randomOption2(diff1)}}}`;\n    }\n    const power = ceilLog < 2 ? '' : `^{${ceilLog}}`;\n    return `{ \\\\left({${randomOption1(randNum)}}\\\\right) ${power} - {${randomOption2(diff2)}}}`;\n}\n/**\n * Find minimal exponential representation for large numbers\n * @param {number} n - Target number\n * @param {Function} randomOption3 - Random generator function\n * @returns {string} LaTeX string\n */ function $4a118e3e819b7e0c$var$minExp(n, randomOption3, decompose2Fn) {\n    let oldDiff, newDiff, exp, exponent;\n    const valObj = {};\n    // Start with base 3\n    let logValue = Math.log(n) / Math.log(3);\n    let floorLog = Math.floor(logValue);\n    let ceilLog = Math.ceil(logValue);\n    let exp1 = 3 ** floorLog;\n    let exp2 = 3 ** ceilLog;\n    let diff1 = Math.abs(n - exp1);\n    let diff2 = Math.abs(n - exp2);\n    if (diff1 < diff2) {\n        oldDiff = diff1;\n        exp = [\n            exp1,\n            `\\\\left({${randomOption3(3)}}\\\\right)^{${floorLog}}`\n        ];\n        valObj[oldDiff] = exp;\n    } else {\n        oldDiff = diff2;\n        exp = [\n            exp2,\n            `\\\\left({${randomOption3(3)}}\\\\right)^{${ceilLog}}`\n        ];\n        valObj[oldDiff] = exp;\n    }\n    // Try bases 4-8\n    for(let i = 4; i < 9; i++){\n        logValue = Math.log(n) / Math.log(i);\n        floorLog = Math.floor(logValue);\n        ceilLog = Math.ceil(logValue);\n        exp1 = i ** floorLog;\n        exp2 = i ** ceilLog;\n        diff1 = Math.abs(n - exp1);\n        diff2 = Math.abs(n - exp2);\n        if (diff1 < diff2) {\n            exp = [\n                exp1,\n                `\\\\left({${randomOption3(i)}}\\\\right)^{${floorLog}}`\n            ];\n            newDiff = diff1;\n            valObj[newDiff] = exp;\n        } else {\n            exp = [\n                exp2,\n                `\\\\left({${randomOption3(i)}}\\\\right)^{${ceilLog}}`\n            ];\n            newDiff = diff2;\n            valObj[newDiff] = exp;\n        }\n        newDiff = Math.min(newDiff, oldDiff);\n        oldDiff = newDiff;\n        exponent = valObj[newDiff];\n    }\n    if (exponent[0] < n) return `${exponent[1]} + \\\\left({${decompose2Fn(newDiff)}}\\\\right)`;\n    return `${exponent[1]} - \\\\left({${decompose2Fn(newDiff)}}\\\\right)`;\n}\nfunction $4a118e3e819b7e0c$export$4e06b4a690896b27(n, possibleOptions, sameNumber) {\n    // Select random generator functions\n    function moreRandomOptions(num) {\n        return (0, $1dbc6a46e06e42e9$export$94951fac5549ef77)(possibleOptions)(num);\n    }\n    let randomOption1 = moreRandomOptions;\n    let randomOption2 = moreRandomOptions;\n    let randomOption3 = moreRandomOptions;\n    if (possibleOptions.length < 1) {\n        randomOption1 = sameNumber;\n        randomOption2 = sameNumber;\n        randomOption3 = sameNumber;\n    } else if (possibleOptions.length >= 3) {\n        // Select three different options\n        const options1 = [\n            ...possibleOptions\n        ];\n        const randIndex1 = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(0, options1.length - 1);\n        randomOption1 = options1[randIndex1];\n        const options2 = [\n            ...options1\n        ];\n        options2.splice(randIndex1, 1);\n        const randIndex2 = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(0, options2.length - 1);\n        randomOption2 = options2[randIndex2];\n        const options3 = [\n            ...options2\n        ];\n        options3.splice(randIndex2, 1);\n        const randIndex3 = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(0, options3.length - 1);\n        randomOption3 = options3[randIndex3];\n    }\n    // Wrapper for decompose2 with bound functions\n    const decompose2Fn = (num)=>$4a118e3e819b7e0c$var$decompose2(num, randomOption1, randomOption2);\n    // Handle large numbers with exponential representation\n    if (n > (0, $315dbc24fdcb29cb$export$e7301bb713e9013b)) return $4a118e3e819b7e0c$var$minExp(n, randomOption3, decompose2Fn);\n    const randomValue = Math.random();\n    // Strategy 1: Factor decomposition - ab = (a - c)(b + c) + c(b - a + c)\n    if (n < (0, $315dbc24fdcb29cb$export$cf3c1cc3171a5e4e) && (n === 2 || !(0, $1dbc6a46e06e42e9$export$8676dd5fabd5ee34)(n)) && randomValue < 0.25) {\n        const factors = (0, $1dbc6a46e06e42e9$export$b1e4fcbe386851e2)(parseInt(n));\n        const randomIndex = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(0, factors.length - 1);\n        const a = factors[randomIndex];\n        const b = n / a;\n        const c = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(1, (0, $315dbc24fdcb29cb$export$e4a566eeb613cc47));\n        if (Math.random() < 0.2) return `{{\\\\left({${randomOption1(a)}}\\\\right)}{\\\\left({${randomOption2(b)}}\\\\right)}}`;\n        return `{ \\\\left({${randomOption1(a)} - ${randomOption2(c)}}\\\\right) \\\\left({${randomOption3(b)} + ${moreRandomOptions(c)}}\\\\right) + {${moreRandomOptions(c)}}{\\\\left({${moreRandomOptions(b)} - ${moreRandomOptions(a)} + ${moreRandomOptions(c)}} \\\\right)} }`;\n    }\n    // Strategy 2: Consecutive squares - n = (d + 1)^2 - d^2 = 2d + 1\n    if (n > 2 && (0, $1dbc6a46e06e42e9$export$d36793d8f5c37d4d)(n) && randomValue < 0.40) {\n        const d = Math.floor(n / 2);\n        if (Math.random() < 0.5) return `{${randomOption1(2)} \\\\left({${randomOption2(d)}}\\\\right) + ${randomOption3(1)}}`;\n        return `{\\\\left({${randomOption1(d)} + ${randomOption2(1)}}\\\\right)^2 - \\\\left({${randomOption3(d)}}\\\\right)^2}`;\n    }\n    // Strategy 3: Square root for small numbers\n    if (randomValue < 0.55 && n < (0, $315dbc24fdcb29cb$export$32b910926cdc0d75)) {\n        const square = n ** 2;\n        return `{\\\\sqrt{${randomOption1(square)}}}`;\n    }\n    // Strategy 4: Sum of odd numbers = n^2\n    if (n > 1 && (0, $1dbc6a46e06e42e9$export$18e26528b2f5558d)(n) && randomValue < 0.6) {\n        const squareroot = Math.sqrt(n);\n        if (Math.random() < 0.2) {\n            let sum = `${randomOption1(1)}`;\n            let oddVal = 1;\n            for(let i = 0; i < squareroot - 1; i++){\n                const randomOption = (0, $1dbc6a46e06e42e9$export$94951fac5549ef77)(possibleOptions);\n                oddVal += 2;\n                sum += `+ ${randomOption(oddVal)}`;\n            }\n            return `{ ${sum} }`;\n        }\n        // (a + b)^2 expansion\n        const a = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(1, squareroot - 1);\n        const b = squareroot - a;\n        if (Math.random() < 0.5) return `{ {\\\\left(${randomOption1(a)} + ${randomOption2(b)}\\\\right)}^2}`;\n        return `{ {\\\\left(${randomOption1(a)}\\\\right)}^2 + {${moreRandomOptions(2)}}{\\\\left(${randomOption2(a)}\\\\right)}{\\\\left(${randomOption3(b)}\\\\right)} + {\\\\left(${moreRandomOptions(b)}\\\\right)}^2}`;\n    }\n    // Strategy 5: Difference of consecutive squares\n    if ((0, $1dbc6a46e06e42e9$export$d36793d8f5c37d4d)(n) && randomValue < 0.7) {\n        const a = Math.floor(n / 2);\n        const b = n - a;\n        if (n < 22) return `{${randomOption1(b ** 2)} - ${randomOption2(a ** 2)}}`;\n        return `{ \\\\left({${randomOption1(b)}}\\\\right)^2 -  \\\\left({${randomOption2(a)}}\\\\right)^2}`;\n    }\n    // Strategy 6: Pythagorean triples using Fibonacci's method\n    if (randomValue < 0.8 && (0, $1dbc6a46e06e42e9$export$d36793d8f5c37d4d)(n) && n < (0, $315dbc24fdcb29cb$export$32b910926cdc0d75)) {\n        const a = n;\n        const aSquare = a ** 2;\n        const position = (aSquare + 1) / 2;\n        let bSquare = 0;\n        let odd = -1;\n        for(let i = 1; i < position; i++){\n            odd += 2;\n            bSquare += odd;\n        }\n        const b = Math.sqrt(bSquare);\n        const cSquare = odd + 2 + bSquare;\n        const c = Math.sqrt(cSquare);\n        return `{\\\\sqrt{\\\\left({${randomOption1(c)}}\\\\right)^2 - \\\\left({${randomOption2(b)}}\\\\right)^2}}`;\n    }\n    // Strategy 7: Multiplication and addition\n    if (randomValue < 0.90) {\n        const randNum = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(1, n + 1);\n        const r = n % randNum;\n        const a = Math.floor(n / randNum);\n        return `${randomOption1(a)} \\\\times {${randomOption2(randNum)}} + ${randomOption3(r)}`;\n    }\n    // Strategy 8: Multiply and divide\n    const r = (0, $1dbc6a46e06e42e9$export$3c5f89dae98e900b)(1, 5);\n    return `${randomOption1(n * r)} \\\\over {${randomOption2(r)}}`;\n}\n\n\n\nfunction $395fcb52fc2fe46c$export$f1f9ebb6bd38268c(number, config) {\n    // Build list of available generator functions based on config\n    const possibleOptions = [];\n    if (config.eulersIdentity) possibleOptions.push((n)=>(0, $32d147077145fdbe$export$4f7fcae0ef12d1a7)(n, config.gammaFunction));\n    if (config.limitExponential) {\n        possibleOptions.push((0, $32d147077145fdbe$export$1923b1715a1d3b35));\n        possibleOptions.push((0, $32d147077145fdbe$export$63b8956c35915643));\n    }\n    if (config.limitPolynomial) {\n        possibleOptions.push((n)=>(0, $32d147077145fdbe$export$b79f25742e3e8973)(n, config.gammaFunction));\n        possibleOptions.push((n)=>(0, $32d147077145fdbe$export$55706094e203377f)(n, config.gammaFunction));\n    }\n    if (config.geometricSeries) possibleOptions.push((n)=>(0, $32d147077145fdbe$export$ee3ee67983452ed6)(n, config.gammaFunction));\n    // Special handling for trig identity - needs to wrap other generators\n    if (config.trig) {\n        const originalOptions = [\n            ...possibleOptions\n        ];\n        // Create trig-wrapped generator\n        const trigGenerator = (n)=>{\n            // Filter out some options for trig wrapping\n            const optionsForTrig = originalOptions.filter((opt)=>opt !== (0, $32d147077145fdbe$export$1923b1715a1d3b35) && opt !== trigGenerator);\n            let randOption;\n            if (optionsForTrig.length > 0) randOption = (num)=>(0, $1dbc6a46e06e42e9$export$94951fac5549ef77)(optionsForTrig)(num);\n            else randOption = sameNumber;\n            return (0, $32d147077145fdbe$export$9a51c259a21d4029)(n, randOption);\n        };\n        possibleOptions.push(trigGenerator);\n    }\n    // Fallback function if all options are disabled\n    const sameNumber = (n)=>n;\n    // Generate the expression\n    return (0, $4a118e3e819b7e0c$export$4e06b4a690896b27)(number, possibleOptions, sameNumber);\n}\nfunction $395fcb52fc2fe46c$export$4d09d4ac8ba225dd(value) {\n    const number = Number(value);\n    if (isNaN(number)) return {\n        valid: false,\n        error: 'Please enter a valid number'\n    };\n    if (value === '' || value === null || value === undefined) return {\n        valid: false,\n        error: 'Please enter a number'\n    };\n    if (number < 0 || number > 1000) return {\n        valid: false,\n        error: 'Number must be between 0 and 1000'\n    };\n    if (!Number.isInteger(number)) return {\n        valid: false,\n        error: 'Please enter an integer'\n    };\n    return {\n        valid: true\n    };\n}\n\n\n/**\n * URL Sharing utilities - encode/decode application state for sharing\n */ /**\n * Encodes the current state (number and config) into a URL-safe string\n * @param {number} number - The input number\n * @param {Object} config - The checkbox configuration\n * @returns {string} Base64-encoded state\n */ function $d905fa48ba9bea45$export$ba5ae29bdb29802d(number, config) {\n    const state = {\n        n: number,\n        g: config.gammaFunction,\n        e: config.eulersIdentity,\n        le: config.limitExponential,\n        lp: config.limitPolynomial,\n        t: config.trig,\n        gs: config.geometricSeries\n    };\n    const json = JSON.stringify(state);\n    // Convert to base64 and make URL-safe\n    return btoa(json).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, ''); // Remove padding\n}\nfunction $d905fa48ba9bea45$export$f011bbd5d4754f0f(encoded) {\n    try {\n        // Restore base64 format\n        let base64 = encoded.replace(/-/g, '+').replace(/_/g, '/');\n        // Add padding if needed\n        while(base64.length % 4)base64 += '=';\n        const json = atob(base64);\n        const state = JSON.parse(json);\n        // Expand to full config object\n        return {\n            number: state.n,\n            config: {\n                gammaFunction: state.g ?? true,\n                eulersIdentity: state.e ?? true,\n                limitExponential: state.le ?? true,\n                limitPolynomial: state.lp ?? true,\n                trig: state.t ?? true,\n                geometricSeries: state.gs ?? true\n            }\n        };\n    } catch (error) {\n        console.error('Failed to decode state:', error);\n        return null;\n    }\n}\nfunction $d905fa48ba9bea45$export$7072d9f91d112494() {\n    const params = new URLSearchParams(window.location.search);\n    const encoded = params.get('s');\n    if (!encoded) return null;\n    return $d905fa48ba9bea45$export$f011bbd5d4754f0f(encoded);\n}\nfunction $d905fa48ba9bea45$export$172c793d6657bd62(number, config) {\n    const encoded = $d905fa48ba9bea45$export$ba5ae29bdb29802d(number, config);\n    const url = new URL(window.location.href);\n    url.search = `?s=${encoded}`;\n    return url.toString();\n}\nfunction $d905fa48ba9bea45$export$c53d3fa896bb7eef(number, config) {\n    const encoded = $d905fa48ba9bea45$export$ba5ae29bdb29802d(number, config);\n    const url = new URL(window.location.href);\n    url.search = `?s=${encoded}`;\n    window.history.replaceState({}, '', url);\n}\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    const form = document.getElementById('form');\n    const displayCheckbox = document.getElementById('display');\n    const closeButton = document.querySelector('.close');\n    const inputField = document.getElementById('input');\n    const outputDiv = document.getElementById('output');\n    const renderButton = document.getElementById('render');\n    const downloadBtn = document.getElementById('download-img');\n    const shareBtn = document.getElementById('share-btn');\n    form.addEventListener('submit', handleFormSubmit);\n    displayCheckbox.addEventListener('change', convert);\n    closeButton.addEventListener('click', ()=>{\n        document.getElementById('mobile-notice').style.display = 'none';\n    });\n    shareBtn.addEventListener('click', handleShare);\n    loadStateFromURL();\n    function loadStateFromURL() {\n        const state = (0, $d905fa48ba9bea45$export$7072d9f91d112494)();\n        if (state) {\n            inputField.value = state.number;\n            document.getElementById('gamma-function').checked = state.config.gammaFunction;\n            document.getElementById('eulers-identity').checked = state.config.eulersIdentity;\n            document.getElementById('limits-exponential').checked = state.config.limitExponential;\n            document.getElementById('limits-polynomial').checked = state.config.limitPolynomial;\n            document.getElementById('trig').checked = state.config.trig;\n            document.getElementById('geometric-series').checked = state.config.geometricSeries;\n            if (window.MathJax && window.MathJax.startup) MathJax.startup.promise.then(()=>{\n                convert();\n            });\n            else window.addEventListener('load', ()=>{\n                if (window.MathJax && window.MathJax.startup) MathJax.startup.promise.then(()=>{\n                    convert();\n                });\n            });\n        }\n    }\n    function handleFormSubmit(event) {\n        event.preventDefault();\n        convert();\n    }\n    function convert() {\n        const number = inputField.value;\n        const validation = (0, $395fcb52fc2fe46c$export$4d09d4ac8ba225dd)(number);\n        if (!validation.valid) {\n            showError(validation.error);\n            return;\n        }\n        const config = {\n            gammaFunction: document.getElementById('gamma-function').checked,\n            eulersIdentity: document.getElementById('eulers-identity').checked,\n            limitExponential: document.getElementById('limits-exponential').checked,\n            limitPolynomial: document.getElementById('limits-polynomial').checked,\n            trig: document.getElementById('trig').checked,\n            geometricSeries: document.getElementById('geometric-series').checked\n        };\n        const input = (0, $395fcb52fc2fe46c$export$f1f9ebb6bd38268c)(Number(number), config);\n        renderEquation(input);\n        (0, $d905fa48ba9bea45$export$c53d3fa896bb7eef)(Number(number), config);\n    }\n    function handleShare() {\n        const number = inputField.value;\n        const validation = (0, $395fcb52fc2fe46c$export$4d09d4ac8ba225dd)(number);\n        if (!validation.valid) {\n            showError('Please generate an equation first before sharing!');\n            return;\n        }\n        const config = {\n            gammaFunction: document.getElementById('gamma-function').checked,\n            eulersIdentity: document.getElementById('eulers-identity').checked,\n            limitExponential: document.getElementById('limits-exponential').checked,\n            limitPolynomial: document.getElementById('limits-polynomial').checked,\n            trig: document.getElementById('trig').checked,\n            geometricSeries: document.getElementById('geometric-series').checked\n        };\n        const shareableURL = (0, $d905fa48ba9bea45$export$172c793d6657bd62)(Number(number), config);\n        // Try to use native share API if available (mobile devices)\n        if (navigator.share) navigator.share({\n            title: `num2math - Equation for ${number}`,\n            text: `Check out this complicated math equation that equals ${number}!`,\n            url: shareableURL\n        }).catch((error)=>{\n            if (error.name !== 'AbortError') copyToClipboard(shareableURL);\n        });\n        else copyToClipboard(shareableURL);\n    }\n    function copyToClipboard(text) {\n        navigator.clipboard.writeText(text).then(()=>{\n            const originalText = shareBtn.textContent;\n            shareBtn.textContent = \"\\u2713 Link copied!\";\n            shareBtn.style.backgroundColor = '#28a745';\n            setTimeout(()=>{\n                shareBtn.textContent = originalText;\n                shareBtn.style.backgroundColor = '';\n            }, 2000);\n        }).catch(()=>{\n            const textarea = document.createElement('textarea');\n            textarea.value = text;\n            textarea.style.position = 'fixed';\n            textarea.style.opacity = '0';\n            document.body.appendChild(textarea);\n            textarea.select();\n            document.execCommand('copy');\n            document.body.removeChild(textarea);\n            const originalText = shareBtn.textContent;\n            shareBtn.textContent = \"\\u2713 Link copied!\";\n            setTimeout(()=>{\n                shareBtn.textContent = originalText;\n            }, 2000);\n        });\n    }\n    function showError(message) {\n        outputDiv.innerHTML = `<p style=\"color: red; padding: 10px;\">${message}</p>`;\n    }\n    function renderEquation(latexExpression) {\n        renderButton.disabled = displayCheckbox.disabled = true;\n        outputDiv.innerHTML = '';\n        MathJax.texReset();\n        const options = MathJax.getMetricsFor(outputDiv);\n        options.display = displayCheckbox.checked;\n        MathJax.tex2svgPromise(latexExpression, options).then((node)=>{\n            outputDiv.appendChild(node);\n            MathJax.startup.document.clear();\n            MathJax.startup.document.updateDocument();\n            downloadBtn.style.display = 'block';\n            shareBtn.style.display = 'inline-block';\n        }).catch((err)=>{\n            const pre = document.createElement('pre');\n            pre.textContent = err.message;\n            outputDiv.appendChild(pre);\n        }).finally(()=>{\n            renderButton.disabled = displayCheckbox.disabled = false;\n        });\n    }\n});\n\n\n//# sourceMappingURL=num2math.23d0a2cb.js.map\n","/**\n * Main application script - handles UI interactions and MathJax rendering\n */\n\nimport { generateEquation, validateInput } from './services/equationService.js';\nimport { getStateFromURL, updateURL, generateShareableURL } from './utils/urlSharing.js';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const form = document.getElementById('form');\n  const displayCheckbox = document.getElementById('display');\n  const closeButton = document.querySelector('.close');\n  const inputField = document.getElementById('input');\n  const outputDiv = document.getElementById('output');\n  const renderButton = document.getElementById('render');\n  const downloadBtn = document.getElementById('download-img');\n  const shareBtn = document.getElementById('share-btn');\n\n  form.addEventListener('submit', handleFormSubmit);\n  displayCheckbox.addEventListener('change', convert);\n  closeButton.addEventListener('click', () => {\n    document.getElementById('mobile-notice').style.display = 'none';\n  });\n  shareBtn.addEventListener('click', handleShare);\n\n  loadStateFromURL();\n\n  function loadStateFromURL() {\n    const state = getStateFromURL();\n    if (state) {\n      inputField.value = state.number;\n\n      document.getElementById('gamma-function').checked = state.config.gammaFunction;\n      document.getElementById('eulers-identity').checked = state.config.eulersIdentity;\n      document.getElementById('limits-exponential').checked = state.config.limitExponential;\n      document.getElementById('limits-polynomial').checked = state.config.limitPolynomial;\n      document.getElementById('trig').checked = state.config.trig;\n      document.getElementById('geometric-series').checked = state.config.geometricSeries;\n\n      if (window.MathJax && window.MathJax.startup) {\n        MathJax.startup.promise.then(() => {\n          convert();\n        });\n      } else {\n        window.addEventListener('load', () => {\n          if (window.MathJax && window.MathJax.startup) {\n            MathJax.startup.promise.then(() => {\n              convert();\n            });\n          }\n        });\n      }\n    }\n  }\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    convert();\n  }\n\n  function convert() {\n    const number = inputField.value;\n\n    const validation = validateInput(number);\n    if (!validation.valid) {\n      showError(validation.error);\n      return;\n    }\n\n    const config = {\n      gammaFunction: document.getElementById('gamma-function').checked,\n      eulersIdentity: document.getElementById('eulers-identity').checked,\n      limitExponential: document.getElementById('limits-exponential').checked,\n      limitPolynomial: document.getElementById('limits-polynomial').checked,\n      trig: document.getElementById('trig').checked,\n      geometricSeries: document.getElementById('geometric-series').checked,\n    };\n\n    const input = generateEquation(Number(number), config);\n\n    renderEquation(input);\n\n    updateURL(Number(number), config);\n  }\n\n  function handleShare() {\n    const number = inputField.value;\n    const validation = validateInput(number);\n\n    if (!validation.valid) {\n      showError('Please generate an equation first before sharing!');\n      return;\n    }\n\n    const config = {\n      gammaFunction: document.getElementById('gamma-function').checked,\n      eulersIdentity: document.getElementById('eulers-identity').checked,\n      limitExponential: document.getElementById('limits-exponential').checked,\n      limitPolynomial: document.getElementById('limits-polynomial').checked,\n      trig: document.getElementById('trig').checked,\n      geometricSeries: document.getElementById('geometric-series').checked,\n    };\n\n    const shareableURL = generateShareableURL(Number(number), config);\n\n    // Try to use native share API if available (mobile devices)\n    if (navigator.share) {\n      navigator.share({\n        title: `num2math - Equation for ${number}`,\n        text: `Check out this complicated math equation that equals ${number}!`,\n        url: shareableURL,\n      }).catch((error) => {\n        if (error.name !== 'AbortError') {\n          copyToClipboard(shareableURL);\n        }\n      });\n    } else {\n      copyToClipboard(shareableURL);\n    }\n  }\n\n  function copyToClipboard(text) {\n    navigator.clipboard.writeText(text).then(() => {\n      const originalText = shareBtn.textContent;\n      shareBtn.textContent = '✓ Link copied!';\n      shareBtn.style.backgroundColor = '#28a745';\n\n      setTimeout(() => {\n        shareBtn.textContent = originalText;\n        shareBtn.style.backgroundColor = '';\n      }, 2000);\n    }).catch(() => {\n      const textarea = document.createElement('textarea');\n      textarea.value = text;\n      textarea.style.position = 'fixed';\n      textarea.style.opacity = '0';\n      document.body.appendChild(textarea);\n      textarea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textarea);\n\n      const originalText = shareBtn.textContent;\n      shareBtn.textContent = '✓ Link copied!';\n      setTimeout(() => {\n        shareBtn.textContent = originalText;\n      }, 2000);\n    });\n  }\n\n  function showError(message) {\n    outputDiv.innerHTML = `<p style=\"color: red; padding: 10px;\">${message}</p>`;\n  }\n\n  function renderEquation(latexExpression) {\n    renderButton.disabled = displayCheckbox.disabled = true;\n\n    outputDiv.innerHTML = '';\n\n    MathJax.texReset();\n    const options = MathJax.getMetricsFor(outputDiv);\n    options.display = displayCheckbox.checked;\n    MathJax.tex2svgPromise(latexExpression, options)\n      .then((node) => {\n        outputDiv.appendChild(node);\n        MathJax.startup.document.clear();\n        MathJax.startup.document.updateDocument();\n        downloadBtn.style.display = 'block';\n        shareBtn.style.display = 'inline-block';\n      })\n      .catch((err) => {\n        const pre = document.createElement('pre');\n        pre.textContent = err.message;\n        outputDiv.appendChild(pre);\n      })\n      .finally(() => {\n        renderButton.disabled = displayCheckbox.disabled = false;\n      });\n  }\n});\n\n","/**\n * Main equation generation service\n * Coordinates generator functions to create complex mathematical expressions\n */\n\nimport {\n  factorial,\n  limDiffTwoSquares,\n  limitNaturalLog,\n  limitExponential,\n  limitPolynomial,\n  eulersIdentity,\n  infiniteGeometricSeries,\n  trigIdentity,\n} from '../generators/latexGenerators.js';\nimport { decompose } from './decompositionService.js';\nimport { randomChoice } from '../utils/mathHelpers.js';\n\n/**\n * Configuration for equation generation\n * @typedef {Object} EquationConfig\n * @property {boolean} gammaFunction - Use Gamma function for factorials\n * @property {boolean} eulersIdentity - Use Euler's identity\n * @property {boolean} limitExponential - Use exponential limits\n * @property {boolean} limitPolynomial - Use polynomial limits\n * @property {boolean} trig - Use trigonometric identities\n * @property {boolean} geometricSeries - Use geometric series\n */\n\n/**\n * Generate a complex mathematical expression that equals the target number\n * @param {number} number - Target number (0-1000)\n * @param {EquationConfig} config - Configuration options\n * @returns {string} LaTeX expression\n */\nexport function generateEquation(number, config) {\n  // Build list of available generator functions based on config\n  const possibleOptions = [];\n\n  if (config.eulersIdentity) {\n    possibleOptions.push((n) => eulersIdentity(n, config.gammaFunction));\n  }\n\n  if (config.limitExponential) {\n    possibleOptions.push(limitNaturalLog);\n    possibleOptions.push(limitExponential);\n  }\n\n  if (config.limitPolynomial) {\n    possibleOptions.push((n) => limDiffTwoSquares(n, config.gammaFunction));\n    possibleOptions.push((n) => limitPolynomial(n, config.gammaFunction));\n  }\n\n  if (config.geometricSeries) {\n    possibleOptions.push((n) => infiniteGeometricSeries(n, config.gammaFunction));\n  }\n\n  // Special handling for trig identity - needs to wrap other generators\n  if (config.trig) {\n    const originalOptions = [...possibleOptions];\n    \n    // Create trig-wrapped generator\n    const trigGenerator = (n) => {\n      // Filter out some options for trig wrapping\n      const optionsForTrig = originalOptions.filter(\n        (opt) => opt !== limitNaturalLog && opt !== trigGenerator\n      );\n\n      let randOption;\n      if (optionsForTrig.length > 0) {\n        randOption = (num) => randomChoice(optionsForTrig)(num);\n      } else {\n        randOption = sameNumber;\n      }\n\n      return trigIdentity(n, randOption);\n    };\n    \n    possibleOptions.push(trigGenerator);\n  }\n\n  // Fallback function if all options are disabled\n  const sameNumber = (n) => n;\n\n  // Generate the expression\n  return decompose(number, possibleOptions, sameNumber);\n}\n\n/**\n * Validate input number\n * @param {*} value - Input value to validate\n * @returns {{valid: boolean, error?: string}} Validation result\n */\nexport function validateInput(value) {\n  const number = Number(value);\n  \n  if (isNaN(number)) {\n    return { valid: false, error: 'Please enter a valid number' };\n  }\n  \n  if (value === '' || value === null || value === undefined) {\n    return { valid: false, error: 'Please enter a number' };\n  }\n  \n  if (number < 0 || number > 1000) {\n    return { valid: false, error: 'Number must be between 0 and 1000' };\n  }\n  \n  if (!Number.isInteger(number)) {\n    return { valid: false, error: 'Please enter an integer' };\n  }\n  \n  return { valid: true };\n}\n","/**\n * LaTeX expression generators for various mathematical concepts\n */\n\nimport { isFactorial, randomInt } from '../utils/mathHelpers.js';\nimport { SIGNS } from '../utils/constants.js';\n\n/**\n * Generate factorial notation using Gamma function or Pi product\n * @param {number} n - The factorial base\n * @param {boolean} useGammaFunction - Whether to use Gamma function\n * @returns {string} LaTeX string\n */\nexport function factorial(n, useGammaFunction) {\n  if (Math.random() < 0.5 && useGammaFunction) {\n    return `{\\\\Gamma (${n + 1})}`;\n  }\n  return `{\\\\prod_{k=1}^{${n}} k}`;\n}\n\n/**\n * Generate limit using difference of two squares\n * @param {number} n - Target number\n * @param {boolean} useGammaFunction - Whether gamma function is enabled\n * @returns {string} LaTeX string\n */\nexport function limDiffTwoSquares(n, useGammaFunction) {\n  const fac = isFactorial(n);\n  if (fac && Math.random() < 0.5) {\n    return factorial(fac, useGammaFunction);\n  }\n  \n  const r = randomInt(1, 10);\n  if (Math.random() < 0.5) {\n    return `{\\\\lim_{x \\\\to ${n - r}} {{x^2 - ${r ** 2}} \\\\over {x - ${r}}}}`;\n  }\n  return `{\\\\lim_{x \\\\to ${n + r}} {{x^2 - ${r ** 2}} \\\\over {x + ${r}}}}`;\n}\n\n/**\n * Generate natural logarithm limit\n * @param {number} n - Target number\n * @returns {string} LaTeX string\n */\nexport function limitNaturalLog(n) {\n  if (n === 0) {\n    return `{\\\\lim_{x \\\\to \\\\infty}{ \\\\ln(x) \\\\over {x} }}`;\n  }\n  if (n === 1) {\n    return `{\\\\lim_{x \\\\to 1}  { {\\\\ln(x)} \\\\over {x - 1} }}`;\n  }\n  return `{\\\\lim_{x \\\\to 0}{ {-\\\\ln(1 + ${n}(e^{-x} - 1))} \\\\over {x} }}`;\n}\n\n/**\n * Generate exponential limit\n * @param {number} n - Target number\n * @returns {string} LaTeX string\n */\nexport function limitExponential(n) {\n  if (n === 0) {\n    return `{\\\\lim_{x \\\\to \\\\infty}{xe^{-x}}}`;\n  }\n  if (n === 1) {\n    return `{\\\\lim_{x \\\\to 0}{ {e^x - 1} \\\\over {x} }}`;\n  }\n  return `{\\\\lim_{x \\\\to 0}{ {e^{${n}x} - 1} \\\\over {x} }}`;\n}\n\n/**\n * Generate polynomial limit\n * @param {number} n - Target number\n * @param {boolean} useGammaFunction - Whether gamma function is enabled\n * @returns {string} LaTeX string\n */\nexport function limitPolynomial(n, useGammaFunction) {\n  const fac = isFactorial(n);\n  if (fac && Math.random() < 0.5) {\n    return factorial(fac, useGammaFunction);\n  }\n\n  if (n === 0) {\n    const r = randomInt(0, 19);\n    return `{\\\\lim_{x \\\\to \\\\infty}{${r}x^{-1}}}`;\n  }\n\n  if (n === 1) {\n    return `{\\\\lim_{x \\\\to \\\\infty}{x^{1/x}}}`;\n  }\n\n  const m = randomInt(1, 5);\n  const highestPower = randomInt(2, 4);\n  const numeratorLength = randomInt(1, highestPower - 1);\n  const denominatorLength = randomInt(1, highestPower - 1);\n  \n  let numerator = `${m * n}x^{${highestPower}} `;\n  let denominator = `${m}x^{${highestPower}} `;\n\n  for (let i = numeratorLength; i > 0; i--) {\n    const coef = randomInt(2, 11);\n    const power = i < 2 ? '' : `^{${i}}`;\n    numerator += `${SIGNS[Math.floor(Math.random() * 2)]} ${coef}x${power} `;\n  }\n\n  for (let i = denominatorLength; i > 0; i--) {\n    const coef = randomInt(2, 11);\n    const power = i < 2 ? '' : `^{${i}}`;\n    denominator += `${SIGNS[Math.floor(Math.random() * 2)]} ${coef}x${power} `;\n  }\n\n  return `{\\\\lim_{x \\\\to \\\\infty}{{ ${numerator} } \\\\over {{ ${denominator} }}}}`;\n}\n\n/**\n * Generate Euler's identity expression\n * @param {number} n - Target number\n * @param {boolean} useGammaFunction - Whether gamma function is enabled\n * @returns {string} LaTeX string\n */\nexport function eulersIdentity(n, useGammaFunction) {\n  const fac = isFactorial(n);\n  if (fac && Math.random() < 0.5) {\n    return factorial(fac, useGammaFunction);\n  }\n  \n  if (n !== 0) {\n    return `{-${n}e^{\\\\pi i}}`;\n  }\n  return `{(e^{\\\\pi i} + 1)}`;\n}\n\n/**\n * Generate infinite geometric series\n * @param {number} n - Target number\n * @param {boolean} useGammaFunction - Whether gamma function is enabled\n * @returns {string} LaTeX string\n */\nexport function infiniteGeometricSeries(n, useGammaFunction) {\n  const fac = isFactorial(n);\n  if (fac && Math.random() < 0.5) {\n    return factorial(fac, useGammaFunction);\n  }\n\n  if (n === 0) {\n    const r = randomInt(3, 12);\n    return `{\\\\sum\\\\limits_{k=0}^{${r - 1}} {\\\\sin \\\\left({ {2 \\\\pi k} \\\\over {${r}} } \\\\right)}}`;\n  }\n\n  if (n === 1) {\n    return `{\\\\lim_{\\\\epsilon \\\\to 0}{ \\\\epsilon \\\\zeta(1 + \\\\epsilon) }}`;\n  }\n  \n  return `{\\\\sum\\\\limits_{k=0}^\\\\infty {\\\\left({${n - 1} \\\\over {${n}}}\\\\right)^{k}}}`;\n}\n\n/**\n * Generate trigonometric identity expression\n * @param {number} n - Target number\n * @param {Function} randOption - Random generator function\n * @returns {string} LaTeX string\n */\nexport function trigIdentity(n, randOption) {\n  if (n > 0) {\n    const randomValue = Math.random();\n    if (randomValue < 0.25) {\n      return `\\\\left({${randOption(n)} \\\\over {(\\\\cos^2x + \\\\sin^2x)}}\\\\right)`;\n    }\n    if (randomValue < 0.5) {\n      return `\\\\left({${randOption(n)} \\\\times (\\\\cos^2x + \\\\sin^2x)}\\\\right)`;\n    }\n    return `\\\\left({${randOption(n + 1)} - (\\\\cos^2x + \\\\sin^2x)}\\\\right)`;\n  }\n  return `\\\\left({${randOption(n + 1)} - (\\\\cos^2x + \\\\sin^2x)}\\\\right)`;\n}\n","/**\n * Mathematical utility functions\n */\n\n/**\n * Check if a number is odd\n * @param {number} n - The number to check\n * @returns {boolean} True if odd, false otherwise\n */\nexport function isOdd(n) {\n  return n % 2 !== 0;\n}\n\n/**\n * Check if a number is a perfect square\n * @param {number} n - The number to check\n * @returns {boolean} True if perfect square, false otherwise\n */\nexport function isSquare(n) {\n  return Number.isInteger(Math.sqrt(n));\n}\n\n/**\n * Check if a number is prime\n * @param {number} n - The number to check\n * @returns {boolean} True if prime, false otherwise\n */\nexport function isPrime(n) {\n  if (n <= 1) return false;\n  if (n % 2 === 0 && n > 2) return false;\n  const s = Math.sqrt(n);\n  for (let i = 3; i <= s; i += 2) {\n    if (n % i === 0) return false;\n  }\n  return true;\n}\n\n/**\n * Get all factors of a number\n * @param {number} n - The number to factorize\n * @returns {number[]} Array of factors\n */\nexport function getFactors(n) {\n  return [...Array(n + 1).keys()].filter((i) => n % i === 0);\n}\n\n/**\n * Check if a number can be formed using factorial\n * @param {number} n - The number to check\n * @returns {number|false} The factorial base or false\n */\nexport function isFactorial(n) {\n  const factorialMap = {\n    2: 2,\n    6: 3,\n    24: 4,\n    120: 5,\n    720: 6,\n  };\n  return factorialMap[n] || false;\n}\n\n/**\n * Generate a random integer between min and max (inclusive)\n * @param {number} min - Minimum value\n * @param {number} max - Maximum value\n * @returns {number} Random integer\n */\nexport function randomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\n * Select a random item from an array\n * @param {Array} arr - The array to select from\n * @returns {*} Random item from array\n */\nexport function randomChoice(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n","/**\n * Application constants\n */\n\nexport const INPUT_LIMITS = {\n  MIN: 0,\n  MAX: 1000,\n};\n\nexport const RANDOM_MULTIPLIER_MAX = 5;\nexport const RANDOM_COEFFICIENT_MAX = 10;\nexport const RANDOM_OFFSET_MAX = 30;\nexport const LARGE_NUMBER_THRESHOLD = 70;\nexport const SMALL_NUMBER_THRESHOLD = 10;\nexport const MEDIUM_NUMBER_THRESHOLD = 100;\n\nexport const SIGNS = ['-', '+'];\n","/**\n * Number decomposition strategies for generating complex expressions\n */\n\nimport {\n  isOdd,\n  isSquare,\n  isPrime,\n  getFactors,\n  randomInt,\n  randomChoice,\n} from '../utils/mathHelpers.js';\nimport {\n  LARGE_NUMBER_THRESHOLD,\n  SMALL_NUMBER_THRESHOLD,\n  MEDIUM_NUMBER_THRESHOLD,\n  RANDOM_OFFSET_MAX,\n} from '../utils/constants.js';\n\n/**\n * Decompose a number using exponential representation\n * @param {number} n - Target number\n * @param {Function} randomOption1 - First random generator\n * @param {Function} randomOption2 - Second random generator\n * @returns {string} LaTeX string\n */\nfunction decompose2(n, randomOption1, randomOption2) {\n  const randNum = randomInt(6, 8);\n  const logValue = Math.log(n) / Math.log(randNum);\n  const floorLog = Math.floor(logValue);\n  const ceilLog = Math.ceil(logValue);\n  const exp1 = randNum ** floorLog;\n  const exp2 = randNum ** ceilLog;\n  const diff1 = Math.abs(n - exp1);\n  const diff2 = Math.abs(n - exp2);\n  \n  if (diff1 < diff2) {\n    const power = floorLog < 2 ? '' : `^{${floorLog}}`;\n    return `{ \\\\left({${randomOption1(randNum)}}\\\\right)${power} + {${randomOption2(diff1)}}}`;\n  }\n  \n  const power = ceilLog < 2 ? '' : `^{${ceilLog}}`;\n  return `{ \\\\left({${randomOption1(randNum)}}\\\\right) ${power} - {${randomOption2(diff2)}}}`;\n}\n\n/**\n * Find minimal exponential representation for large numbers\n * @param {number} n - Target number\n * @param {Function} randomOption3 - Random generator function\n * @returns {string} LaTeX string\n */\nfunction minExp(n, randomOption3, decompose2Fn) {\n  let oldDiff, newDiff, exp, exponent;\n  const valObj = {};\n\n  // Start with base 3\n  let logValue = Math.log(n) / Math.log(3);\n  let floorLog = Math.floor(logValue);\n  let ceilLog = Math.ceil(logValue);\n  let exp1 = 3 ** floorLog;\n  let exp2 = 3 ** ceilLog;\n  let diff1 = Math.abs(n - exp1);\n  let diff2 = Math.abs(n - exp2);\n\n  if (diff1 < diff2) {\n    oldDiff = diff1;\n    exp = [exp1, `\\\\left({${randomOption3(3)}}\\\\right)^{${floorLog}}`];\n    valObj[oldDiff] = exp;\n  } else {\n    oldDiff = diff2;\n    exp = [exp2, `\\\\left({${randomOption3(3)}}\\\\right)^{${ceilLog}}`];\n    valObj[oldDiff] = exp;\n  }\n\n  // Try bases 4-8\n  for (let i = 4; i < 9; i++) {\n    logValue = Math.log(n) / Math.log(i);\n    floorLog = Math.floor(logValue);\n    ceilLog = Math.ceil(logValue);\n    exp1 = i ** floorLog;\n    exp2 = i ** ceilLog;\n    diff1 = Math.abs(n - exp1);\n    diff2 = Math.abs(n - exp2);\n    \n    if (diff1 < diff2) {\n      exp = [exp1, `\\\\left({${randomOption3(i)}}\\\\right)^{${floorLog}}`];\n      newDiff = diff1;\n      valObj[newDiff] = exp;\n    } else {\n      exp = [exp2, `\\\\left({${randomOption3(i)}}\\\\right)^{${ceilLog}}`];\n      newDiff = diff2;\n      valObj[newDiff] = exp;\n    }\n    newDiff = Math.min(newDiff, oldDiff);\n    oldDiff = newDiff;\n    exponent = valObj[newDiff];\n  }\n\n  if (exponent[0] < n) {\n    return `${exponent[1]} + \\\\left({${decompose2Fn(newDiff)}}\\\\right)`;\n  }\n  return `${exponent[1]} - \\\\left({${decompose2Fn(newDiff)}}\\\\right)`;\n}\n\n/**\n * Decompose a number into a complex mathematical expression\n * @param {number} n - Target number\n * @param {Function[]} possibleOptions - Array of generator functions\n * @param {Function} sameNumber - Fallback function\n * @returns {string} LaTeX expression\n */\nexport function decompose(n, possibleOptions, sameNumber) {\n  // Select random generator functions\n  function moreRandomOptions(num) {\n    return randomChoice(possibleOptions)(num);\n  }\n\n  let randomOption1 = moreRandomOptions;\n  let randomOption2 = moreRandomOptions;\n  let randomOption3 = moreRandomOptions;\n\n  if (possibleOptions.length < 1) {\n    randomOption1 = sameNumber;\n    randomOption2 = sameNumber;\n    randomOption3 = sameNumber;\n  } else if (possibleOptions.length >= 3) {\n    // Select three different options\n    const options1 = [...possibleOptions];\n    const randIndex1 = randomInt(0, options1.length - 1);\n    randomOption1 = options1[randIndex1];\n    \n    const options2 = [...options1];\n    options2.splice(randIndex1, 1);\n    const randIndex2 = randomInt(0, options2.length - 1);\n    randomOption2 = options2[randIndex2];\n    \n    const options3 = [...options2];\n    options3.splice(randIndex2, 1);\n    const randIndex3 = randomInt(0, options3.length - 1);\n    randomOption3 = options3[randIndex3];\n  }\n\n  // Wrapper for decompose2 with bound functions\n  const decompose2Fn = (num) => decompose2(num, randomOption1, randomOption2);\n\n  // Handle large numbers with exponential representation\n  if (n > LARGE_NUMBER_THRESHOLD) {\n    return minExp(n, randomOption3, decompose2Fn);\n  }\n\n  const randomValue = Math.random();\n\n  // Strategy 1: Factor decomposition - ab = (a - c)(b + c) + c(b - a + c)\n  if (n < MEDIUM_NUMBER_THRESHOLD && (n === 2 || !isPrime(n)) && randomValue < 0.25) {\n    const factors = getFactors(parseInt(n));\n    const randomIndex = randomInt(0, factors.length - 1);\n    const a = factors[randomIndex];\n    const b = n / a;\n    const c = randomInt(1, RANDOM_OFFSET_MAX);\n\n    if (Math.random() < 0.2) {\n      return `{{\\\\left({${randomOption1(a)}}\\\\right)}{\\\\left({${randomOption2(b)}}\\\\right)}}`;\n    }\n    \n    return `{ \\\\left({${randomOption1(a)} - ${randomOption2(c)}}\\\\right) \\\\left({${randomOption3(b)} + ${moreRandomOptions(c)}}\\\\right) + {${moreRandomOptions(c)}}{\\\\left({${moreRandomOptions(b)} - ${moreRandomOptions(a)} + ${moreRandomOptions(c)}} \\\\right)} }`;\n  }\n\n  // Strategy 2: Consecutive squares - n = (d + 1)^2 - d^2 = 2d + 1\n  if (n > 2 && isOdd(n) && randomValue < 0.40) {\n    const d = Math.floor(n / 2);\n    if (Math.random() < 0.5) {\n      return `{${randomOption1(2)} \\\\left({${randomOption2(d)}}\\\\right) + ${randomOption3(1)}}`;\n    }\n    return `{\\\\left({${randomOption1(d)} + ${randomOption2(1)}}\\\\right)^2 - \\\\left({${randomOption3(d)}}\\\\right)^2}`;\n  }\n\n  // Strategy 3: Square root for small numbers\n  if (randomValue < 0.55 && n < SMALL_NUMBER_THRESHOLD) {\n    const square = n ** 2;\n    return `{\\\\sqrt{${randomOption1(square)}}}`;\n  }\n\n  // Strategy 4: Sum of odd numbers = n^2\n  if (n > 1 && isSquare(n) && randomValue < 0.6) {\n    const squareroot = Math.sqrt(n);\n    \n    if (Math.random() < 0.2) {\n      let sum = `${randomOption1(1)}`;\n      let oddVal = 1;\n      for (let i = 0; i < squareroot - 1; i++) {\n        const randomOption = randomChoice(possibleOptions);\n        oddVal += 2;\n        sum += `+ ${randomOption(oddVal)}`;\n      }\n      return `{ ${sum} }`;\n    }\n    \n    // (a + b)^2 expansion\n    const a = randomInt(1, squareroot - 1);\n    const b = squareroot - a;\n    \n    if (Math.random() < 0.5) {\n      return `{ {\\\\left(${randomOption1(a)} + ${randomOption2(b)}\\\\right)}^2}`;\n    }\n    return `{ {\\\\left(${randomOption1(a)}\\\\right)}^2 + {${moreRandomOptions(2)}}{\\\\left(${randomOption2(a)}\\\\right)}{\\\\left(${randomOption3(b)}\\\\right)} + {\\\\left(${moreRandomOptions(b)}\\\\right)}^2}`;\n  }\n\n  // Strategy 5: Difference of consecutive squares\n  if (isOdd(n) && randomValue < 0.7) {\n    const a = Math.floor(n / 2);\n    const b = n - a;\n    if (n < 22) {\n      return `{${randomOption1(b ** 2)} - ${randomOption2(a ** 2)}}`;\n    }\n    return `{ \\\\left({${randomOption1(b)}}\\\\right)^2 -  \\\\left({${randomOption2(a)}}\\\\right)^2}`;\n  }\n\n  // Strategy 6: Pythagorean triples using Fibonacci's method\n  if (randomValue < 0.8 && isOdd(n) && n < SMALL_NUMBER_THRESHOLD) {\n    const a = n;\n    const aSquare = a ** 2;\n    const position = (aSquare + 1) / 2;\n    let bSquare = 0;\n    let odd = -1;\n    for (let i = 1; i < position; i++) {\n      odd += 2;\n      bSquare += odd;\n    }\n    const b = Math.sqrt(bSquare);\n    const cSquare = odd + 2 + bSquare;\n    const c = Math.sqrt(cSquare);\n    return `{\\\\sqrt{\\\\left({${randomOption1(c)}}\\\\right)^2 - \\\\left({${randomOption2(b)}}\\\\right)^2}}`;\n  }\n\n  // Strategy 7: Multiplication and addition\n  if (randomValue < 0.90) {\n    const randNum = randomInt(1, n + 1);\n    const r = n % randNum;\n    const a = Math.floor(n / randNum);\n    return `${randomOption1(a)} \\\\times {${randomOption2(randNum)}} + ${randomOption3(r)}`;\n  }\n\n  // Strategy 8: Multiply and divide\n  const r = randomInt(1, 5);\n  return `${randomOption1(n * r)} \\\\over {${randomOption2(r)}}`;\n}\n","/**\n * URL Sharing utilities - encode/decode application state for sharing\n */\n\n/**\n * Encodes the current state (number and config) into a URL-safe string\n * @param {number} number - The input number\n * @param {Object} config - The checkbox configuration\n * @returns {string} Base64-encoded state\n */\nexport function encodeState(number, config) {\n  const state = {\n    n: number, // Use short keys to minimize URL length\n    g: config.gammaFunction,\n    e: config.eulersIdentity,\n    le: config.limitExponential,\n    lp: config.limitPolynomial,\n    t: config.trig,\n    gs: config.geometricSeries,\n  };\n  \n  const json = JSON.stringify(state);\n  // Convert to base64 and make URL-safe\n  return btoa(json)\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_')\n    .replace(/=+$/, ''); // Remove padding\n}\n\n/**\n * Decodes a URL-safe string back into state\n * @param {string} encoded - The encoded state string\n * @returns {Object|null} The decoded state or null if invalid\n */\nexport function decodeState(encoded) {\n  try {\n    // Restore base64 format\n    let base64 = encoded\n      .replace(/-/g, '+')\n      .replace(/_/g, '/');\n    \n    // Add padding if needed\n    while (base64.length % 4) {\n      base64 += '=';\n    }\n    \n    const json = atob(base64);\n    const state = JSON.parse(json);\n    \n    // Expand to full config object\n    return {\n      number: state.n,\n      config: {\n        gammaFunction: state.g ?? true,\n        eulersIdentity: state.e ?? true,\n        limitExponential: state.le ?? true,\n        limitPolynomial: state.lp ?? true,\n        trig: state.t ?? true,\n        geometricSeries: state.gs ?? true,\n      }\n    };\n  } catch (error) {\n    console.error('Failed to decode state:', error);\n    return null;\n  }\n}\n\n/**\n * Gets the current state from URL parameters\n * @returns {Object|null} The decoded state or null if no valid state in URL\n */\nexport function getStateFromURL() {\n  const params = new URLSearchParams(window.location.search);\n  const encoded = params.get('s');\n  \n  if (!encoded) {\n    return null;\n  }\n  \n  return decodeState(encoded);\n}\n\n/**\n * Generates a shareable URL with the current state\n * @param {number} number - The input number\n * @param {Object} config - The checkbox configuration\n * @returns {string} The full shareable URL\n */\nexport function generateShareableURL(number, config) {\n  const encoded = encodeState(number, config);\n  const url = new URL(window.location.href);\n  url.search = `?s=${encoded}`;\n  return url.toString();\n}\n\n/**\n * Updates the current URL with the state (without page reload)\n * @param {number} number - The input number\n * @param {Object} config - The checkbox configuration\n */\nexport function updateURL(number, config) {\n  const encoded = encodeState(number, config);\n  const url = new URL(window.location.href);\n  url.search = `?s=${encoded}`;\n  window.history.replaceState({}, '', url);\n}\n"],"names":["$1dbc6a46e06e42e9$export$72ec13a031cbb00","n","factorialMap","$1dbc6a46e06e42e9$export$3c5f89dae98e900b","min","max","Math","floor","random","$1dbc6a46e06e42e9$export$94951fac5549ef77","arr","length","$315dbc24fdcb29cb$export$6c4c91602b188824","$32d147077145fdbe$export$329ce89a99f0e343","useGammaFunction","$32d147077145fdbe$export$1923b1715a1d3b35","$32d147077145fdbe$export$63b8956c35915643","$395fcb52fc2fe46c$export$4d09d4ac8ba225dd","value","number","Number","isNaN","valid","error","isInteger","$d905fa48ba9bea45$export$ba5ae29bdb29802d","config","btoa","JSON","stringify","g","gammaFunction","e","eulersIdentity","le","limitExponential","lp","limitPolynomial","t","trig","gs","geometricSeries","replace","document","addEventListener","state","form","getElementById","displayCheckbox","closeButton","querySelector","inputField","outputDiv","renderButton","downloadBtn","shareBtn","convert","latexExpression","options","encoded","url","validation","showError","checked","possibleOptions","push","fac","r","m","highestPower","numeratorLength","denominatorLength","numerator","denominator","i","coef","power","originalOptions","trigGenerator","randOption","optionsForTrig","filter","opt","num","sameNumber","randomValue","moreRandomOptions","randomOption1","randomOption2","randomOption3","options1","randIndex1","options2","splice","randIndex2","options3","randIndex3","$4a118e3e819b7e0c$var$minExp","decompose2Fn","oldDiff","newDiff","exp","exponent","valObj","logValue","log","floorLog","ceilLog","ceil","exp1","exp2","diff1","abs","diff2","$4a118e3e819b7e0c$var$decompose2","randNum","s","sqrt","factors","Array","parseInt","keys","randomIndex","a","b","c","d","square","squareroot","sum","oddVal","randomOption","position","aSquare","bSquare","odd","disabled","innerHTML","MathJax","texReset","getMetricsFor","display","tex2svgPromise","then","node","appendChild","startup","clear","updateDocument","style","catch","err","pre","createElement","textContent","message","finally","URL","window","location","href","search","history","replaceState","copyToClipboard","text","navigator","clipboard","writeText","originalText","backgroundColor","setTimeout","textarea","opacity","body","select","execCommand","removeChild","event","preventDefault","shareableURL","toString","share","title","name","params","URLSearchParams","get","base64","json","atob","parse","console","promise"],"version":3,"file":"num2math.23d0a2cb.js.map"}